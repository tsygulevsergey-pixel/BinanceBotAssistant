# üéØ –ü–õ–ê–ù –£–õ–£–ß–®–ï–ù–ò–Ø –†–ï–ñ–ò–ú–ê TREND

**–î–∞—Ç–∞:** 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å:** TREND —Ä–µ–∂–∏–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç 16.7% WR –∏ -19% PnL (–ö–†–ò–¢–ò–ß–ù–û!)  
**–¶–µ–ª—å:** –ü–æ–¥–Ω—è—Ç—å WR –¥–æ 45-55% –∏ —Å–¥–µ–ª–∞—Ç—å —Ä–µ–∂–∏–º –ø—Ä–∏–±—ã–ª—å–Ω—ã–º

---

## üìä –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ TREND —Ä–µ–∂–∏–º–∞:
- **–°–∏–≥–Ω–∞–ª–æ–≤:** 12
- **Win Rate:** 16.7% (2W / 5L / 5TS)
- **–°—É–º–º–∞—Ä–Ω—ã–π PnL:** -19.06%
- **–°—Ä–µ–¥–Ω–∏–π PnL:** -1.59%

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚ùå **Bearish bias:** 5 —Å–∏–≥–Ω–∞–ª–æ–≤ ‚Üí 0% WR ‚Üí -5.25% PnL
2. ‚ùå **TIME_STOP –≤—ã—Ö–æ–¥—ã:** 5 –∏–∑ 12 —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–æ —Ç–∞–π–º–∞—É—Ç—É
3. ‚ùå **Volume_ratio = 1.0:** –Ω–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–ª–∞–±—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π
4. ‚ùå **–í—Å–µ —Å–∏–≥–Ω–∞–ª—ã Score = 3.5:** –Ω–µ—Ç –¥–∏—Ñ—Ñ–µ—Ä–µ–Ω—Ü–∏–∞—Ü–∏–∏ –∫–∞—á–µ—Å—Ç–≤–∞

---

## üî¨ –ê–ù–ê–õ–ò–ó –ò–°–°–õ–ï–î–û–í–ê–ù–ò–ô

### –ö–ª—é—á–µ–≤—ã–µ –Ω–∞—Ö–æ–¥–∫–∏ –∏–∑ –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤:

#### 1. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è Win Rate**
- ‚úÖ –¢—Ä–µ–Ω–¥-—Ñ–æ–ª–ª–æ–≤–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏: **40-55% WR** (–Ω–æ—Ä–º–∞!)
- ‚úÖ Break & Retest: **60-70% WR** (—Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏)
- ‚úÖ –ì–ª–∞–≤–Ω–æ–µ: **Risk:Reward 2:1 –∏–ª–∏ 3:1** (–≤–∞–∂–Ω–µ–µ Win Rate!)

**–í—ã–≤–æ–¥:** –ù–∞—à —Ç–µ–∫—É—â–∏–π 16.7% WR –∞–Ω–æ–º–∞–ª—å–Ω–æ –Ω–∏–∑–∫–∏–π, –Ω–æ 40-55% - —Ä–µ–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è —Ü–µ–ª—å

---

#### 2. **ADX –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è –∫—Ä–∏–ø—Ç–æ**

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–µ —Ä—ã–Ω–∫–∏ | –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã |
|----------|-------------------|--------------|
| **–ü–µ—Ä–∏–æ–¥** | 14 | 10-14 (–±—ã—Å—Ç—Ä–µ–µ) |
| **–ú–∏–Ω–∏–º—É–º –¥–ª—è –≤—Ö–æ–¥–∞** | 20 | **25-30** ‚úÖ |
| **–°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥** | 25+ | **30-40** |
| **–û—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π** | 40+ | **40-50** |

**–ü—Ä–æ–±–ª–µ–º–∞:** –ú—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º ADX > 20, —á—Ç–æ –¥–ª—è –∫—Ä–∏–ø—Ç–æ **—Å–ª–∏—à–∫–æ–º –Ω–∏–∑–∫–æ**!

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** ADX > 25-30 –¥–ª—è TREND —Ä–µ–∂–∏–º–∞

---

#### 3. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ª–æ–∂–Ω—ã—Ö –ø—Ä–æ–±–æ–µ–≤ (False Breakouts)**

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã:**

| –§–∏–ª—å—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å |
|--------|----------|----------------|
| ‚úÖ **Volume spike** | >1.5-2x —Å—Ä–µ–¥–Ω–µ–≥–æ –æ–±—ä–µ–º–∞ | ‚ùå –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (vol=1.0) |
| ‚úÖ **2-3 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–∏—Ö —Å–≤–µ—á–∏** | –ó–∞–∫—Ä—ã—Ç–∏–µ –∑–∞ —É—Ä–æ–≤–Ω–µ–º | ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω–æ –µ—Å—Ç—å |
| ‚úÖ **Higher timeframe alignment** | –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ —Å —Ç—Ä–µ–Ω–¥–æ–º 4H | ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å |
| ‚úÖ **ADX rising** | ADX –¥–æ–ª–∂–µ–Ω —Ä–∞—Å—Ç–∏ | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è |
| ‚úÖ **Price at Bollinger outer band** | –°–∏–ª—å–Ω—ã–π –∏–º–ø—É–ª—å—Å | ‚ùå –ù–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| ‚ùå **Low volume retest** | –†–µ—Ç–µ—Å—Ç —Å –º–µ–Ω—å—à–∏–º –æ–±—ä–µ–º–æ–º | ‚ùå –ù–µ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è |

**–í—ã–≤–æ–¥:** –£ –Ω–∞—Å —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ 1-2 —Ñ–∏–ª—å—Ç—Ä–∞ –∏–∑ 6!

---

#### 4. **Break & Retest —É–ª—É—á—à–µ–Ω–∏—è**

**–ü—Ä–∏–∑–Ω–∞–∫–∏ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–µ—Ç–µ—Å—Ç–∞:**
- ‚úÖ Pullback **–ù–ï –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è** –≥–ª—É–±–æ–∫–æ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–±–∏—Ç–æ–≥–æ —É—Ä–æ–≤–Ω—è
- ‚úÖ Retest –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç **–º–µ–Ω—å—à–µ –∏–º–ø—É–ª—å—Å–∞** —á–µ–º breakout (–ø–æ–ª–æ–≥–∏–π —É–≥–æ–ª)
- ‚úÖ –ß–µ—Ç–∫–æ–µ **–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ** (rejection wicks, pin bars)
- ‚úÖ –†—ã–Ω–æ–∫ **–Ω–µ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è** - –±—ã—Å—Ç—Ä–æ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ

**–ü—Ä–∏–∑–Ω–∞–∫–∏ —Å–ª–∞–±–æ–≥–æ —Ä–µ—Ç–µ—Å—Ç–∞ (–∏–∑–±–µ–≥–∞—Ç—å):**
- ‚ùå Retest —Ç–∞–∫–æ–π –∂–µ –∫—Ä—É—Ç–æ–π –∫–∞–∫ breakout
- ‚ùå –¶–µ–Ω–∞ –¥–æ–ª–≥–æ —Ç–æ—Ä—á–∏—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ
- ‚ùå –ù–µ—Ç rejection —Å–≤–µ—á–µ–π

---

#### 5. **Confluence (—Å–ª–∏—è–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤)**

**–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
–¢—Ä–µ–±–æ–≤–∞—Ç—å –º–∏–Ω–∏–º—É–º **3-4 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è** –∏–∑ —Å–ø–∏—Å–∫–∞:
1. Price action (candlestick patterns)
2. Volume spike
3. ADX > 25-30 –∏ —Ä–∞—Å—Ç–µ—Ç
4. RSI –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
5. Moving Average alignment
6. Higher timeframe trend
7. Market structure break

**–¢–µ–∫—É—â–∞—è —Å–∏—Ç—É–∞—Ü–∏—è:** –ú—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º 2-3 –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –º–∞–∫—Å–∏–º—É–º

---

## üí° –ö–û–ù–ö–†–ï–¢–ù–´–ï –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –£–õ–£–ß–®–ï–ù–ò–Ø

### üî¥ –ö–†–ò–¢–ò–ß–ù–´–ï (–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–µ—Ä–≤—ã–º–∏)

#### 1. **–ò–∑–º–µ–Ω–∏—Ç—å ADX —Ñ–∏–ª—å—Ç—Ä —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è TREND**

**–¢–µ–∫—É—â–µ–µ:**
```python
min_adx = 20  # –û–¥–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∂–∏–º–æ–≤
```

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```python
# –†–∞–∑–Ω—ã–µ –ø–æ—Ä–æ–≥–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–æ–≤
if regime == 'TREND':
    min_adx = 25  # –°—Ç—Ä–æ–∂–µ –¥–ª—è —Ç—Ä–µ–Ω–¥–æ–≤
elif regime == 'SQUEEZE':
    min_adx = 15  # –ú—è–≥—á–µ –¥–ª—è —Å–∂–∞—Ç–∏–π
else:
    min_adx = 20  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** 
- TREND —Ä–µ–∂–∏–º —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ —Å–∏–ª—å–Ω—ã—Ö –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
- ADX 25-30 - —Å—Ç–∞–Ω–¥–∞—Ä—Ç –¥–ª—è –∫—Ä–∏–ø—Ç–æ —Ç—Ä–µ–Ω–¥–æ–≤
- –≠—Ç–æ –ù–ï —Å–ª–æ–º–∞–µ—Ç SQUEEZE (—Ç–∞–º –±—É–¥–µ—Ç 15)

---

#### 2. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É "ADX —Ä–∞—Å—Ç–µ—Ç"**

**–ü—Ä–æ–±–ª–µ–º–∞:** ADX –º–æ–∂–µ—Ç –±—ã—Ç—å >25, –Ω–æ –µ—Å–ª–∏ –æ–Ω –ø–∞–¥–∞–µ—Ç - —Ç—Ä–µ–Ω–¥ –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è

**–†–µ—à–µ–Ω–∏–µ:**
```python
adx_current = adx[-1]
adx_prev = adx[-2]
adx_rising = adx_current > adx_prev

# –î–ª—è TREND —Ä–µ–∂–∏–º–∞:
if regime == 'TREND' and not adx_rising:
    return None  # –û—Ç–∫–ª–æ–Ω–∏—Ç—å —Å–∏–≥–Ω–∞–ª
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –û—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –≤—Ö–æ–¥—ã –≤ –∫–æ–Ω—Ü–µ —Ç—Ä–µ–Ω–¥–æ–≤

---

#### 3. **–£—Å–∏–ª–∏—Ç—å Volume —Ñ–∏–ª—å—Ç—Ä –¥–ª—è TREND**

**–¢–µ–∫—É—â–µ–µ:**
```python
volume_ratio = current_vol / avg_vol
if volume_ratio < 1.5:  # –î–ª—è Order Flow
    return None
```

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è TREND:**
```python
# –†–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ —Ä–µ–∂–∏–º–∞–º
if regime == 'TREND':
    min_volume_multiplier = 1.8  # –°—Ç—Ä–æ–∂–µ
elif regime == 'SQUEEZE':
    min_volume_multiplier = 1.2  # –ú—è–≥—á–µ
else:
    min_volume_multiplier = 1.5
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:** 
- –ò—Å—Ç–∏–Ω–Ω—ã–π breakout –≤ —Ç—Ä–µ–Ω–¥–µ –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å —Å–∏–ª—å–Ω—ã–π –æ–±—ä–µ–º
- –≠—Ç–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —Å–ª–∞–±—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è

---

#### 4. **–ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å bearish bias –≤ TREND —Ä–µ–∂–∏–º–µ**

**–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**
- Bearish bias: 0% WR, -5.25% PnL
- Neutral bias: –ª—É—á—à–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- Bullish bias: —Å—Ä–µ–¥–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–†–µ—à–µ–Ω–∏–µ:**
```python
if regime == 'TREND' and bias == 'bearish':
    logger.debug("‚ùå TREND + bearish bias - –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏ —É–±—ã—Ç–æ—á–Ω–æ")
    return None
```

**–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ (–º—è–≥—á–µ):**
```python
if regime == 'TREND' and bias == 'bearish':
    # –¢—Ä–µ–±–æ–≤–∞—Ç—å —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω–æ –≤—ã—Å–æ–∫–∏–π score
    min_score_required = 5.0  # –í–º–µ—Å—Ç–æ 3.0
```

---

#### 5. **–î–æ–±–∞–≤–∏—Ç—å Higher Timeframe Confirmation**

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ —Ç—Ä–µ–Ω–¥ –µ—Å—Ç—å –Ω–∞ —Å—Ç–∞—Ä—à–µ–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ

**–ü—Ä–∏–º–µ—Ä –¥–ª—è Break & Retest (15m):**
```python
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å 1H –∏ 4H —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã
trend_1h = check_trend_direction(data_1h)  # EMA 50/200
trend_4h = check_trend_direction(data_4h)

# –î–ª—è LONG —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ 15m:
if direction == 'long':
    if trend_1h != 'bullish' or trend_4h != 'bullish':
        logger.debug("‚ùå Higher timeframe –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç —Ç—Ä–µ–Ω–¥")
        return None
```

**–≠—Ñ—Ñ–µ–∫—Ç:** 
- –§–∏–ª—å—Ç—Ä—É–µ—Ç counter-trend —Å–∏–≥–Ω–∞–ª—ã
- –ü–æ–≤—ã—à–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å —É—Å–ø–µ—Ö–∞

---

### üü° –í–ê–ñ–ù–´–ï (–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â–∏–º–∏)

#### 6. **–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –∫–∞—á–µ—Å—Ç–≤–∞ Retest**

**–î–ª—è Break & Retest —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**

```python
def check_retest_quality(breakout_bar, retest_bar):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ —Ä–µ—Ç–µ—Å—Ç–∞"""
    
    # 1. –†–µ—Ç–µ—Å—Ç –Ω–µ –¥–æ–ª–∂–µ–Ω –≥–ª—É–±–æ–∫–æ –∑–∞–∫—Ä—ã–≤–∞—Ç—å—Å—è –≤–Ω—É—Ç—Ä–∏ —É—Ä–æ–≤–Ω—è
    penetration = calculate_penetration(retest_bar, level)
    if penetration > 0.3:  # –ë–æ–ª–µ–µ 30% —Ç–µ–ª–∞ —Å–≤–µ—á–∏ –≤–Ω—É—Ç—Ä–∏
        return False
    
    # 2. –ò–º–ø—É–ª—å—Å —Ä–µ—Ç–µ—Å—Ç–∞ –º–µ–Ω—å—à–µ —á–µ–º breakout
    breakout_momentum = abs(breakout_bar['close'] - breakout_bar['open'])
    retest_momentum = abs(retest_bar['close'] - retest_bar['open'])
    if retest_momentum >= breakout_momentum:
        return False  # –°–ª–∏—à–∫–æ–º —Å–∏–ª—å–Ω—ã–π —Ä–µ—Ç–µ—Å—Ç
    
    # 3. –ï—Å—Ç—å rejection wick
    if direction == 'long':
        wick_size = retest_bar['low'] - min(retest_bar['open'], retest_bar['close'])
        body_size = abs(retest_bar['close'] - retest_bar['open'])
        if wick_size < body_size * 0.5:
            return False  # –ù–µ—Ç –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ rejection
    
    return True
```

---

#### 7. **–£–≤–µ–ª–∏—á–∏—Ç—å TIME_STOP –¥–ª—è TREND**

**–ü—Ä–æ–±–ª–µ–º–∞:** 5 –∏–∑ 12 —Å–∏–≥–Ω–∞–ª–æ–≤ –∑–∞–∫—Ä—ã–ª–∏—Å—å –ø–æ TIME_STOP

**–¢–µ–∫—É—â–µ–µ:** 2 —á–∞—Å–∞ (–æ–±—â–∏–π —Ç–∞–π–º–∞—É—Ç)

**–ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ:**
```python
if regime == 'TREND':
    time_stop_hours = 4  # –¢—Ä–µ–Ω–¥—ã —Ä–∞–∑–≤–∏–≤–∞—é—Ç—Å—è –º–µ–¥–ª–µ–Ω–Ω–µ–µ
elif regime == 'SQUEEZE':
    time_stop_hours = 2  # –ë—ã—Å—Ç—Ä—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è
```

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- –¢—Ä–µ–Ω–¥—ã —Ç—Ä–µ–±—É—é—Ç –±–æ–ª—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è
- 2 —á–∞—Å–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ –¥–ª—è pullback —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

---

#### 8. **–î–æ–±–∞–≤–∏—Ç—å Bollinger Bands —Ñ–∏–ª—å—Ç—Ä**

**–ö–æ–Ω—Ü–µ–ø—Ü–∏—è:** –í—Ö–æ–¥–∏—Ç—å —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ —É –≤–Ω–µ—à–Ω–µ–π –ø–æ–ª–æ—Å—ã

```python
bb_upper, bb_middle, bb_lower = calculate_bollinger_bands(close, period=20)

if direction == 'long':
    # –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–∫–æ–ª–æ –≤–µ—Ä—Ö–Ω–µ–π –ø–æ–ª–æ—Å—ã
    distance_to_upper = (bb_upper[-1] - close[-1]) / bb_upper[-1]
    if distance_to_upper > 0.01:  # –ë–æ–ª–µ–µ 1% –æ—Ç –≤–µ—Ä—Ö–Ω–µ–π –ø–æ–ª–æ—Å—ã
        return None
elif direction == 'short':
    # –¶–µ–Ω–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ–∫–æ–ª–æ –Ω–∏–∂–Ω–µ–π –ø–æ–ª–æ—Å—ã
    distance_to_lower = (close[-1] - bb_lower[-1]) / bb_lower[-1]
    if distance_to_lower > 0.01:
        return None
```

**–≠—Ñ—Ñ–µ–∫—Ç:** –í—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–∏–ª—å–Ω—ã—Ö –∏–º–ø—É–ª—å—Å–∞—Ö

---

#### 9. **–£–ª—É—á—à–∏—Ç—å Score —Å–∏—Å—Ç–µ–º—É –¥–ª—è TREND**

**–¢–µ–∫—É—â–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –í—Å–µ —Å–∏–≥–Ω–∞–ª—ã = 3.5

**–ù–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞:**
```python
base_score = 2.5

# –ë–æ–Ω—É—Å—ã –¥–ª—è TREND —Ä–µ–∂–∏–º–∞:
if adx > 30:
    base_score += 1.0  # –û—á–µ–Ω—å —Å–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥
elif adx > 25:
    base_score += 0.5  # –°–∏–ª—å–Ω—ã–π —Ç—Ä–µ–Ω–¥

if adx_rising:
    base_score += 0.5  # ADX —Ä–∞—Å—Ç–µ—Ç

if volume_ratio > 2.0:
    base_score += 1.0  # –ú–æ—â–Ω—ã–π –æ–±—ä–µ–º
elif volume_ratio > 1.5:
    base_score += 0.5

if higher_tf_aligned:
    base_score += 1.0  # –°—Ç–∞—Ä—à–∏–π —Ç–∞–π–º—Ñ—Ä–µ–π–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç

if quality_retest:
    base_score += 0.5  # –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ—Ç–µ—Å—Ç

# –®—Ç—Ä–∞—Ñ—ã:
if bias == 'bearish':
    base_score -= 1.5  # –°–µ—Ä—å–µ–∑–Ω—ã–π —à—Ç—Ä–∞—Ñ

# –§–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä –¥–ª—è TREND:
if regime == 'TREND' and base_score < 4.0:
    return None  # –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –ø–æ—Ä–æ–≥ –≤—ã—à–µ
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** Score 4.0-7.0 –¥–ª—è TREND —Å–∏–≥–Ω–∞–ª–æ–≤

---

### üü¢ –ñ–ï–õ–ê–¢–ï–õ–¨–ù–´–ï (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

#### 10. **–î–æ–±–∞–≤–∏—Ç—å RSI —Ñ–∏–ª—å—Ç—Ä –¥–ª—è TREND**

```python
rsi = calculate_rsi(close, period=14)

if regime == 'TREND':
    if direction == 'long' and rsi[-1] < 45:
        return None  # –°–ª–∞–±—ã–π –∏–º–ø—É–ª—å—Å
    elif direction == 'short' and rsi[-1] > 55:
        return None
```

---

#### 11. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ä—ã–Ω–∫–∞ (Market Structure)**

```python
def check_market_structure(highs, lows, direction):
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–µ Higher Highs / Lower Lows"""
    
    if direction == 'long':
        # –î–ª—è –ª–æ–Ω–≥–∞ –Ω—É–∂–Ω—ã Higher Highs –∏ Higher Lows
        hh = highs[-1] > highs[-2] > highs[-3]
        hl = lows[-1] > lows[-2] > lows[-3]
        return hh and hl
    else:
        # –î–ª—è —à–æ—Ä—Ç–∞ –Ω—É–∂–Ω—ã Lower Lows –∏ Lower Highs
        ll = lows[-1] < lows[-2] < lows[-3]
        lh = highs[-1] < highs[-2] < highs[-3]
        return ll and lh
```

---

#### 12. **Confluence Score System**

```python
confluence_count = 0

# –°—á–∏—Ç–∞–µ–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è:
if adx > 25 and adx_rising:
    confluence_count += 1
if volume_ratio > 1.5:
    confluence_count += 1
if higher_tf_aligned:
    confluence_count += 1
if quality_retest:
    confluence_count += 1
if bollinger_position_good:
    confluence_count += 1
if rsi_confirms:
    confluence_count += 1
if market_structure_good:
    confluence_count += 1

# –î–ª—è TREND —Ä–µ–∂–∏–º–∞ —Ç—Ä–µ–±—É–µ–º –º–∏–Ω–∏–º—É–º 4 –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –∏–∑ 7
if regime == 'TREND' and confluence_count < 4:
    logger.debug(f"‚ùå –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ confluence: {confluence_count}/7")
    return None
```

---

## üìã –ü–õ–ê–ù –†–ï–ê–õ–ò–ó–ê–¶–ò–ò

### –§–∞–∑–∞ 1: –ö—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
- [ ] –ò–∑–º–µ–Ω–∏—Ç—å ADX –ø–æ—Ä–æ–≥ –¥–ª—è TREND: 20 ‚Üí 25
- [ ] –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É ADX —Ä–∞—Å—Ç–µ—Ç
- [ ] –£—Å–∏–ª–∏—Ç—å Volume —Ñ–∏–ª—å—Ç—Ä –¥–ª—è TREND: 1.5 ‚Üí 1.8
- [ ] –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å bearish bias –≤ TREND
- [ ] –î–æ–±–∞–≤–∏—Ç—å Higher Timeframe Confirmation

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** WR 16.7% ‚Üí 35-40%

### –§–∞–∑–∞ 2: –í–∞–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ Retest
- [ ] –£–≤–µ–ª–∏—á–∏—Ç—å TIME_STOP –¥–ª—è TREND: 2h ‚Üí 4h
- [ ] –î–æ–±–∞–≤–∏—Ç—å Bollinger Bands —Ñ–∏–ª—å—Ç—Ä
- [ ] –£–ª—É—á—à–∏—Ç—å Score —Å–∏—Å—Ç–µ–º—É

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** WR 35-40% ‚Üí 45-50%

### –§–∞–∑–∞ 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3)
- [ ] RSI —Ñ–∏–ª—å—Ç—Ä
- [ ] Market Structure –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] Confluence Score System

**–û–∂–∏–¥–∞–µ–º—ã–π —ç—Ñ—Ñ–µ–∫—Ç:** WR 45-50% ‚Üí 50-55%

---

## üéØ –¶–ï–õ–ï–í–´–ï –ú–ï–¢–†–ò–ö–ò

### –ü–æ—Å–ª–µ –§–∞–∑—ã 1:
- Win Rate: **35-40%** (–±—ã–ª–æ 16.7%)
- –°—Ä–µ–¥–Ω–∏–π PnL: **-0.5% –¥–æ 0%** (–±—ã–ª–æ -1.59%)
- Risk:Reward: **2:1 –º–∏–Ω–∏–º—É–º**

### –ü–æ—Å–ª–µ –§–∞–∑—ã 2:
- Win Rate: **45-50%**
- –°—Ä–µ–¥–Ω–∏–π PnL: **+0.5% –¥–æ +1.0%**
- Profit Factor: **1.5+**

### –ü–æ—Å–ª–µ –§–∞–∑—ã 3:
- Win Rate: **50-55%**
- –°—Ä–µ–¥–Ω–∏–π PnL: **+1.5%**
- Profit Factor: **2.0+**

---

## ‚ö†Ô∏è –í–ê–ñ–ù–´–ï –ó–ê–ú–ï–ß–ê–ù–ò–Ø

### 1. **–ó–∞—â–∏—Ç–∞ SQUEEZE —Ä–µ–∂–∏–º–∞**

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å **—Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã –¥–ª—è TREND —Ä–µ–∂–∏–º–∞**:

```python
# ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û:
if regime == 'TREND':
    min_adx = 25
elif regime == 'SQUEEZE':
    min_adx = 15

# ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û:
min_adx = 25  # –≠—Ç–æ —Å–ª–æ–º–∞–µ—Ç SQUEEZE!
```

### 2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ**

**–ù–ï –≤–Ω–µ–¥—Ä—è—Ç—å –≤—Å–µ —Å—Ä–∞–∑—É!** –ü–ª–∞–Ω:
1. –í–Ω–µ–¥—Ä–∏—Ç—å –§–∞–∑—É 1 ‚Üí –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å 1-2 –¥–Ω—è
2. –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
3. –í–Ω–µ–¥—Ä–∏—Ç—å –§–∞–∑—É 2 ‚Üí –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
4. –ò —Ç–∞–∫ –¥–∞–ª–µ–µ

### 3. **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è**

**–¢—Ä–µ–Ω–¥-—Ñ–æ–ª–ª–æ–≤–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã:**
- Win Rate: 40-55% (–Ω–æ—Ä–º–∞)
- –ù–û: –°—Ä–µ–¥–Ω–∏–π –≤—ã–∏–≥—Ä—ã—à –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ 2-3 —Ä–∞–∑–∞ –±–æ–ª—å—à–µ –ø—Ä–æ–∏–≥—Ä—ã—à–∞
- Profit Factor > 1.5 = —É—Å–ø–µ—Ö

**–ù–µ –≥–Ω–∞—Ç—å—Å—è –∑–∞ 80% WR –≤ TREND —Ä–µ–∂–∏–º–µ - —ç—Ç–æ –Ω–µ—Ä–µ–∞–ª—å–Ω–æ!**

---

## üìä –ö–ê–ö –ò–ó–ú–ï–†–Ø–¢–¨ –£–°–ü–ï–•

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

```python
# –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. Win Rate %
2. Profit Factor = (–°—É–º–º–∞ –ø–æ–±–µ–¥) / (–°—É–º–º–∞ –ø–æ—Ä–∞–∂–µ–Ω–∏–π)
3. Average Win / Average Loss ratio
4. Max Drawdown
5. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
6. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ TIME_STOP –≤—ã—Ö–æ–¥–æ–≤
```

### –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞:

| –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –°–∏–≥–Ω–∞–ª–æ–≤ | WR % | Avg Win | Avg Loss | PF | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|----------|------|---------|----------|-----|-------------|
| Baseline | 12 | 16.7% | +0.86% | -2.37% | 0.36 | –¢–µ–∫—É—â–µ–µ |
| ADX 25 | ? | ? | ? | ? | ? | –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ |
| + ADX rising | ? | ? | ? | ? | ? | –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∞ |
| ... | | | | | | |

---

**–ö–æ–Ω–µ—Ü –ø–ª–∞–Ω–∞**

–ì–æ—Ç–æ–≤ –∫ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏! üöÄ
