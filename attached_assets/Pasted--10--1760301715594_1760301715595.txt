–ß—Ç–æ —Ç–æ—á–Ω–æ –ø–æ–ø—Ä–∞–≤–∏—Ç—å (10 –ø—É–Ω–∫—Ç–æ–≤)

–°–∏–ª–∞ –∑–æ–Ω—ã –∏ –∫–∞—Å–∞–Ω–∏—è

–ù–µ ¬´—á–µ–º –±–æ–ª—å—à–µ –∫–∞—Å–∞–Ω–∏–π ‚Äî —Ç–µ–º —Å–∏–ª—å–Ω–µ–µ¬ª. –ü–æ—Å–ª–µ 2‚Äì3 –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ç—Å–∫–æ–∫–æ–≤ —É—Ä–æ–≤–µ–Ω—å –æ–±—ã—á–Ω–æ —Å–ª–∞–±–µ–µ—Ç (–ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å —Å—ä–µ–¥–∞—é—Ç).

–°–¥–µ–ª–∞–π –∑–∞—Ç—É—Ö–∞–Ω–∏–µ –≤–µ—Å–∞ –∫–∞—Å–∞–Ω–∏–π:
touch_weight = min( log2(1 + touches), 2.0 ) –∏ –ø–µ–Ω–∞–ª–∏–∑–∏—Ä—É–π >4: penalty = max(0, touches-4)*0.25.

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–µ—Å –ø–æ —Å–≤–µ–∂–µ—Å—Ç–∏: recency = exp(-Œît_days / 30).

–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–∞—Å–∞–Ω–∏—è

–ó–∞—Å—á–∏—Ç—ã–≤–∞–π –∫–∞—Å–∞–Ω–∏–µ, –µ—Å–ª–∏ —Ç–µ–ª–æ —Å–≤–µ—á–∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω–µ –∑–æ–Ω—ã, –∞ —Ç–µ–Ω—å –∑–∞—Ö–æ–¥–∏—Ç –≤ –∑–æ–Ω—É ‚â• X% –µ—ë —à–∏—Ä–∏–Ω—ã –∏–ª–∏ –º–∏–Ω–∏–º—É–º/–º–∞–∫—Å–∏–º—É–º –≤–Ω—É—Ç—Ä–∏ –∑–æ–Ω—ã.

–ê–Ω—Ç–∏–¥—Ä–æ–±–ª–µ–Ω–∏–µ: –º–µ–∂–¥—É –∫–∞—Å–∞–Ω–∏—è–º–∏ –º–∏–Ω–∏–º—É–º GAP_BARS (–Ω–∞–ø—Ä., 5 –±–∞—Ä–æ–≤ 4H), —á—Ç–æ–±—ã –æ–¥–∏–Ω ¬´–ø–∏–ª—è—â–∏–π¬ª –æ—Ç—Å–∫–æ–∫ –Ω–µ –¥–∞–ª 5 –∫–∞—Å–∞–Ω–∏–π.

–û—Ç–±–æ—Ä –∑–æ–Ω (—Ç–æ–ø-6)

–û—Å—Ç–∞–≤–ª—è–π ‚â§3 supply –∏ ‚â§3 demand –≤ –æ–∫–Ω–µ –∏–Ω—Ç–µ—Ä–µ—Å–∞: —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç —Ç–µ–∫—É—â–µ–π —Ü–µ–Ω—ã ‚â§ K * ATR_1D (–Ω–∞–ø—Ä–∏–º–µ—Ä, K=3). –î–∞–ª—å–Ω–∏–µ ‚Äî –Ω–µ –º–µ—à–∞—é—Ç –≤—Ö–æ–¥—É —Å–µ–π—á–∞—Å.

–£–¥–∞–ª–∏ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è –∑–æ–Ω—ã –æ–¥–Ω–æ–≥–æ —Ç–∏–ø–∞: –æ—Å—Ç–∞–≤—å –∑–æ–Ω—É —Å –ª—É—á—à–∏–º –∏–Ω—Ç–µ–≥—Ä–∞–ª—å–Ω—ã–º —Å–∫–æ—Ä–æ–º.

MTR –∏ ¬´–±–ª–∏–∑–æ—Å—Ç—å –∫ –∑–æ–Ω–µ¬ª

–§–æ—Ä–º–∞–ª–∏–∑—É–π MTR_n –∫–∞–∫ –º–µ–¥–∏–∞–Ω—É True Range –∑–∞ n –±–∞—Ä–æ–≤: MTR = median(TR[1..n]).

–ë–ª–∏–∑–æ—Å—Ç—å ‚Äî –Ω–µ ¬´–ø–æ —Ü–µ–Ω—Ç—Ä—É —Å–≤–µ—á–∏¬ª, –∞ –ø–æ –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—é:
overlap_ratio = length( candle_range ‚à© zone_range ) / length(candle_range)
–ü—Ä–∏ overlap_ratio ‚â• 0.3 ‚Üí ¬´–≤–Ω—É—Ç—Ä–∏ –∑–æ–Ω—ã¬ª.
–ï—Å–ª–∏ –≤–Ω–µ –∑–æ–Ω—ã ‚Äî –º–µ—Ä—å —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –¥–æ –∫—Ä–∞—è –∑–æ–Ω—ã –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–π —Å Œ±*MTR_exec (Œ±=1.5‚Äì2.0).

EMA-—Ñ–∏–ª—å—Ç—Ä

–¢–≤–æ–π strict-—Ä–µ–∂–∏–º (H4 –ò H1 –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞—Å—Ç—å) ‚Äî –æ–∫, –Ω–æ –¥–æ–±–∞–≤—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è ¬´—Ä–µ—Ç–µ—Å—Ç–∞ –≤ —Ç—Ä–µ–Ω–¥–µ¬ª:
–µ—Å–ª–∏ H4 —Å–æ–≥–ª–∞—Å–µ–Ω, –∞ H1 –¥–µ–ª–∞–µ—Ç pullback –∫ EMA –∏ –µ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω ‚Äî —Ä–∞–∑—Ä–µ—à–∞–π, –Ω–æ —Å –ø–æ–Ω–∏–∂–µ–Ω–Ω—ã–º —Å–∫–æ—Ä–æ–º/–º–µ–Ω—å—à–∏–º —Ä–∞–∑–º–µ—Ä–æ–º.

–ü–∞—Ç—Ç–µ—Ä–Ω—ã ‚Äî –∫—Ä–∏—Ç–µ—Ä–∏–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–æ

–î–æ–ø–∏—à–∏ –∫–∞—á–µ—Å—Ç–≤–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞: —Ä–∞–∑–º–µ—Ä —Ç–µ–ª–∞/—Å–∏–≥–Ω–∞–ª—å–Ω–æ–π —Ç–µ–Ω–∏ –≤ –µ–¥–∏–Ω–∏—Ü–∞—Ö ATR_exec, –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è (–¥–ª—è –±—ã—á—å–µ–≥–æ ‚Äî –≤–µ—Ä—Ö–Ω—è—è 30% –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –±–∞—Ä–∞), –æ–±—ä—ë–º/–¥–µ–ª—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å).

–ò—Ç–æ–≥–æ–≤—ã–π pattern_quality ‚àà [0..1] ‚Üí –ø–æ–π–¥—ë—Ç –≤ —Å–∫–æ—Ä.

R:R –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—è —Ü–µ–ª–µ–π

–°—Ç–æ–ø ¬´–∑–∞ –∑–æ–Ω—É + 0.25*ATR_exec¬ª ‚Äî üëç.

–¶–µ–ª–∏: TP1=1R (50%), TP2=2R (50%) ‚Äî üëç, –Ω–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π ¬´–º–µ—Å—Ç–æ –¥–æ –±–ª–∏–∂–∞–π—à–µ–π –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π –∑–æ–Ω—ã –ø–æ —Ü–µ–Ω–µ¬ª —Å —É—á—ë—Ç–æ–º —à–∏—Ä–∏–Ω—ã —Ç–æ–π –∑–æ–Ω—ã. –ï—Å–ª–∏ –¥–æ —Ç–µ–ª–∞ –ø—Ä–æ—Ç–∏–≤–æ–ø–æ–ª–æ–∂–Ω–æ–π –∑–æ–Ω—ã < 1R ‚Äî ‚ùå.

–ú–∏–Ω–∏–º—É–º –ø—Ä–∏–Ω–∏–º–∞–π Rmin=1.2 –Ω–∞ –≤—Ö–æ–¥ (—á—Ç–æ–±—ã –∫–æ–º–ø–µ–Ω—Å–∏—Ä–æ–≤–∞—Ç—å –∫–æ–º–∏—Å—Å–∏—é/—Å–∫–æ–ª—å–∂–µ–Ω–∏–µ –ø–æ–∑–∂–µ).

–ö–æ–Ω—Ñ–ª—é—ç–Ω—Å—ã ‚Äî –Ω–µ –¥–≤–æ–π–Ω–æ–π —Å—á—ë—Ç

AVWAP Primary/Secondary –∏ Daily VWAP –∫–æ—Ä—Ä–µ–ª–∏—Ä—É—é—Ç. –û–≥—Ä–∞–Ω–∏—á—å —Å—É–º–º–∞—Ä–Ω—ã–π –±–æ–Ω—É—Å –∑–∞ VWAP-—Å–µ–º–µ–π—Å—Ç–≤–æ: –Ω–µ –±–æ–ª–µ–µ +1.2 —Å—É–º–º–∞—Ä–Ω–æ.

–°—á–∏—Ç–∞–π —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´—Ä—è–¥–æ–º¬ª, –∞: |price - vwap| ‚â§ Œ≤*MTR_exec (Œ≤=1.0 –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) –∏ –≤–µ–∫—Ç–æ—Ä —Å–æ–≤–ø–∞–¥–∞–µ—Ç (–¥–ª—è LONG –≤ demand –Ω–∏–∂–µ —Ü–µ–Ω—ã/–¥–ª—è SHORT –≤ supply –≤—ã—à–µ —Ü–µ–Ω—ã).

–°–∫–æ—Ä ‚Üí –Ω–æ—Ä–º–∏—Ä—É–π —à–∫–∞–ª—É

–£–π–¥–∏ –æ—Ç ¬´261.8¬ª. –°—Ç–∞–≤—å –Ω–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω—É—é —à–∫–∞–ª—É 0‚Ä¶10:

zone_score = 4.0 * recency * (touch_weight - penalty)_clipped
pattern_score = 3.0 * pattern_quality
vwap_score = min(1.2, 0.6*AVWAP_primary + 0.4*AVWAP_secondary + 0.2*DailyVWAP)
proximity_score = 1.0 –µ—Å–ª–∏ –≤–Ω—É—Ç—Ä–∏ –∑–æ–Ω—ã, –∏–Ω–∞—á–µ 1.0 * exp(-dist / (1.0*MTR))
ema_score = 0.8 –µ—Å–ª–∏ strict OK, 0.4 –µ—Å–ª–∏ pullback-rules
total = zone_score + pattern_score + vwap_score + proximity_score + ema_score


–ü–æ—Ä–æ–≥ –Ω–∞ —Å–∏–≥–Ω–∞–ª: total ‚â• 6.5 –∏ R‚â•1.2.

Anchored VWAP: –∫–æ–≥–¥–∞ –ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—Ç—å —è–∫–æ—Ä—å

–î–µ—Ä–∂–∏ —Å—Ç–∞–±–∏–ª—å–Ω—ã–π —è–∫–æ—Ä—å, –ø–æ–∫–∞ –Ω–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–æ–≤—ã–π –≤–∞–ª–∏–¥–Ω—ã–π swing –Ω–∞ –±–∞–∑–æ–≤–æ–º TF (H4/H1) —Å –∏–º–ø—É–ª—å—Å–æ–º ‚â• 1.5 * MTR_base –∏ —Å —Ä–∞–∑–≤–æ—Ä–æ—Ç–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π (HL/LH).

–î–æ–±–∞–≤—å –≥–∏—Å—Ç–µ—Ä–µ–∑–∏—Å: ¬´–ø–µ—Ä–µ—Å—Ç–∞–≤–ª—è—é —è–∫–æ—Ä—å, —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏¬ª –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è 2 –∏–∑ 3 —É—Å–ª–æ–≤–∏–π: (a) –∏–º–ø—É–ª—å—Å ‚â•1.5MTR, (b) –ø—Ä–æ—à–ª–æ ‚â•N –±–∞—Ä–æ–≤ (–Ω–∞–ø—Ä., 30 H1), (c) —Ü–µ–Ω–∞ —É—à–ª–∞ –Ω–∞ ‚â•KATR_base –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ —è–∫–æ—Ä—è.

–ù–∞ –≤—Ç–æ—Ä–∏—á–Ω–æ–º TF —è–∫–æ—Ä—å –Ω–µ–∑–∞–≤–∏—Å–∏–º, –Ω–æ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–∞ –æ–±–æ–∏—Ö TF (–∞–Ω—Ç–∏-–¥—Ä–µ–±–µ–∑–≥: –º–∏–Ω–∏–º—É–º 1 –¥–µ–Ω—å –º–µ–∂–¥—É –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏).

–ö–æ–Ω–∫—Ä–µ—Ç–∏–∫–∞ –¥–ª—è –∫–æ–¥–∞ (–∫—Ä–∞—Ç–∫–æ)

MTR (n=50 –ø–æ TF):

TR = max(high-low, abs(high-prev_close), abs(low-prev_close))
MTR = median(TR[-n:])


–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–ª–∏–∑–æ—Å—Ç–∏:

if overlap_ratio(candle, zone) >= 0.3: proximity = "inside"
else:
    dist = distance_to_zone_edge(candle, zone)
    proximity = "near" if dist <= 1.5*MTR_exec else "far"


–ö–∞—á–µ—Å—Ç–≤–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ (–ø—Ä–∏–º–µ—Ä Pin-Bar LONG):

tail = low - min(open, close)
body = abs(close - open)
range = high - low
ok = tail >= 2*body and tail >= 0.6*range and close in top30% of range
quality = clamp( (tail/range) * (range/ATR_exec), 0, 1)


–°–∏–ª–∞ –∑–æ–Ω—ã (—ç—Å–∫–∏–∑):

base = 1.0
rec = exp(-days_since_last_touch/30)
tw  = min(log2(1+touches), 2.0)
pen = max(0, touches-4)*0.25
zone_score = 4.0 * rec * max(0, tw - pen)

–î–æ–ø. —Ñ–∏–ª—å—Ç—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ–∞–ª—å–Ω–æ —É–ª—É—á—à–∞—é—Ç PA

–†–µ–∂–∏–º—ã/–≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å: –Ω–µ —Ç–æ—Ä–≥–æ–≤–∞—Ç—å PA –≤ ¬´—Å—É–ø–µ—Ä-–ø–∏–ª–µ¬ª: ADX(H1)<14 –∏ ATR%(H1)<p30 –∏ BBW(H1)<p30.

–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ—Ç–µ—Å—Ç: –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º —Ç–µ—Å—Ç–µ –∑–æ–Ω—ã —Ç—Ä–µ–±–æ–≤–∞—Ç—å –º–µ–Ω—å—à–∏–π –æ–±—ä—ë–º –∞–≥—Ä–µ—Å—Å–æ—Ä–∞ (–¥–µ–ª—å—Ç–∞/CVD –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç —ç–∫—Å—Ç—Ä–µ–º—É–º).

DoD (–º–∏–Ω–∏–º—É–º —Ç–µ—Å—Ç–æ–≤)

Unit-—Ç–µ—Å—Ç—ã –¥–µ—Ç–µ–∫—Ü–∏–∏ 5 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –Ω–∞ —Å–∏–Ω—Ç–µ—Ç–∏—á–µ—Å–∫–∏—Ö —Å–≤–µ—á–∞—Ö.

–¢–µ—Å—Ç ¬´–±–ª–∏–∑–æ—Å—Ç–∏¬ª —Å –∫–µ–π—Å–∞–º–∏ inside/near/far.

–¢–µ—Å—Ç –∑–æ–Ω—ã: –∫–∞—Å–∞–Ω–∏—è —Å –∞–Ω—Ç–∏-–¥—Ä–µ–±–µ–∑–≥–æ–º, recency, penalty –ø–æ—Å–ª–µ 4 –∫–∞—Å–∞–Ω–∏–π.

–¢–µ—Å—Ç R:R –ø—Ä–æ—Ç–∏–≤ –±–ª–∏–∂–∞–π—à–µ–π –≤—Å—Ç—Ä–µ—á–Ω–æ–π –∑–æ–Ω—ã.

–¢–µ—Å—Ç —Å–∫–æ—Ä–∞: –Ω–æ—Ä–º–∏—Ä–æ–≤–∫–∞ –≤ 0..10 –∏ –æ—Ç—Å–µ—á–∫–∞ –ø–æ –ø–æ—Ä–æ–≥—É.